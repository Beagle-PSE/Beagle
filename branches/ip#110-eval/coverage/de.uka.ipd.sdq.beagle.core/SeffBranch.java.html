<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>SeffBranch.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Core</a> &gt; <a href="index.source.html" class="el_package">de.uka.ipd.sdq.beagle.core</a> &gt; <span class="el_source">SeffBranch.java</span></div><h1>SeffBranch.java</h1><pre class="source lang-java linenums">package de.uka.ipd.sdq.beagle.core;

import org.apache.commons.lang3.Validate;
import org.apache.commons.lang3.builder.EqualsBuilder;
import org.apache.commons.lang3.builder.HashCodeBuilder;
import org.apache.commons.lang3.builder.ToStringBuilder;

import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.concurrent.CopyOnWriteArrayList;

/**
 * Models branches in a component's SEFF, originating from conditional constructs.
 *
 * &lt;p&gt;SEFF conditions are conditions (like Java’s if , if - else and switch - case
 * statements) which affect the calls a component makes to other components. Such
 * conditions are—contrary to conditions that stay within an internal action—modelled in a
 * component’s SEFF.
 *
 * @author Annika Berger
 * @author Roman Langrehr
 */
public class SeffBranch implements MeasurableSeffElement {

	/**
	 * Serialisation version UID, see {@link java.io.Serializable}.
	 */
	private static final long serialVersionUID = -1525692970296450080L;

	/**
	 * All branches for this SeffBranch.
	 */
	private final List&lt;CodeSection&gt; branches;

	/**
	 * Creates a SeffBranch using a given code section.
	 *
	 * @param branches A set of valid code sections. Each code sections represents a
	 *            branch of this SeffBranch. It must be sure, that two points of execution
	 *            exists, the so called beginning and ending of this branch, with the
	 *            following properties: When you would insert an empty code line at the
	 *            beginning and an empty code line at the ending, those would form a valid
	 *            code section with the beginning line as first line and the line at the
	 *            ending as last line. And each time the beginning point was reached,
	 *            exactly one code section of this branch gets executed immediately after
	 *            that. This is not checked during runtime, because it would solve the
	 *            halting problem. Immediately after that, the ending point is reached.
	 *            The set must contain at least {@code 2} code sections. Must not be
	 *            {@code null}. May not contain {@code null} entries.
	 * @throws IllegalArgumentException If {@code branches} has less than {@code 2}
	 *             branches.
	 */
<span class="fc" id="L54">	public SeffBranch(final Set&lt;CodeSection&gt; branches) {</span>
<span class="fc bfc" id="L55" title="All 2 branches covered.">		if (branches.size() &lt;= 1) {</span>
<span class="fc" id="L56">			throw new IllegalArgumentException(</span>
				&quot;The code section set for the SeffBranch had less than two code sections&quot;);
		}
<span class="fc" id="L59">		Validate.noNullElements(branches);</span>
<span class="fc" id="L60">		this.branches = new ArrayList&lt;&gt;(branches);</span>
<span class="fc" id="L61">	}</span>

	@Override
	public boolean equals(final Object object) {
<span class="fc bfc" id="L65" title="All 2 branches covered.">		if (object == null) {</span>
<span class="fc" id="L66">			return false;</span>
		}
<span class="fc bfc" id="L68" title="All 2 branches covered.">		if (object == this) {</span>
<span class="fc" id="L69">			return true;</span>
		}
<span class="fc bfc" id="L71" title="All 2 branches covered.">		if (object.getClass() != this.getClass()) {</span>
<span class="fc" id="L72">			return false;</span>
		}
<span class="fc" id="L74">		final SeffBranch other = (SeffBranch) object;</span>
<span class="fc" id="L75">		return new EqualsBuilder().append(this.branches, other.branches).isEquals();</span>
	}

	/**
	 * Gives a set of valid code sections representing a branch of this SeffBranch.
	 *
	 * @return A list of valid code sections representing a branch of this SeffBranch.
	 *         They fulfil the following property: Two points of execution exist, the so
	 *         called beginning and ending of this branch, with the following properties:
	 *         When you would insert an (empty) code line at the beginning and an (empty)
	 *         code line at the ending, those would form a valid code section with the
	 *         beginning line as first line and the line at the ending as last line. And
	 *         each time the beginning point was reached, exactly one code section of this
	 *         branch gets executed immediately after that. Immediately after that, the
	 *         ending point is reached. The set contains at least {@code 2} code sections.
	 *         The list is never {@code null}. This list never contains {@code null}
	 *         entries. Changes to the list are not reflected in the SeffBranch.
	 */
	public List&lt;CodeSection&gt; getBranches() {
<span class="fc" id="L94">		return new CopyOnWriteArrayList&lt;&gt;(this.branches);</span>
	}

	@Override
	public int hashCode() {
		// you pick a hard-coded, randomly chosen, non-zero, odd number
		// ideally different for each class
<span class="fc" id="L101">		return new HashCodeBuilder(21, 49).append(this.branches).toHashCode();</span>
	}

	@Override
	public String toString() {
<span class="fc" id="L106">		return new ToStringBuilder(this).append(&quot;branches&quot;, this.branches).toString();</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.1.201405082137</span></div></body></html>