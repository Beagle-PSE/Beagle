0===$('head style:contains("/tucal4/css/hs.css")').length&&$("head").append('<link rel="stylesheet" href="/tucal4/css/hs.css" type="text/css" />');"#popup"===location.hash&&0===$("#hs-modal").length&&(window.location.hash="");
function hs_content(){$("body .hs-content").length||$("body").append('<div class="hs-content">\t\t\t<div class="modal fade" id="hs-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\t\t\t\t<div class="modal-dialog">\t\t\t\t\t<span class="valign"></span><div class="modal-content">\t\t\t\t\t\t<div class="modal-header">\t\t\t\t\t\t\t<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\t\t\t\t\t\t\t<h4 class="modal-title"> </h4>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="modal-body">\t\t\t\t\t\t\t<div class="modal-error">Error/Fehler</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="modal-footer"></div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t</div>')}
function align(a){var b=a.find(".tucal-thumbs"),c=b.scrollLeft(),e=b.width(),h=a.find(".tucal-thumbs li.active").width();a=a.find(".tucal-thumbs li.active").position().left;(a+h>e||0>a)&&b.animate({scrollLeft:c+(a-(e-h/2)/2)},200)}
function picwrite(a){var b=a.find(".tucal-thumbs li.active a"),c=a.find(".tucal-thumbs li.active a img"),e=a.find(".tucal-thumbs li.active"),b=b.attr("href"),h=c.attr("title")?c.attr("title"):"";a.find(".load").addClass("ing");a.find(".tucal-gallery-content img").load(function(){a.find(".load").removeClass("ing");a.find(".tucal-gallery-desc").text(h);$(".tucal-gallery-body").trigger("picloaded");var c=e.next().find("a[href]").attr("href");c&&($("<img/>")[0].src=c)}).attr("src",b);e.next().length?
a.find(".tucal-gallery-body .tucal-right").show():(a.find(".tucal-gallery-body .tucal-right").hide(),pause());e.prev().length?a.find(".tucal-gallery-body .tucal-left").show():a.find(".tucal-gallery-body .tucal-left").hide()}
function singlepic(){$(".hs-content .modal-body .tucal-gallery-header").hide();$(".hs-content .modal-body .tucal-gallery-content .tucal-icon").hide();$(".hs-content .modal-body .tucal-gallery-control .tucal-play-toggle").hide();$(".hs-content .modal-body .tucal-aspectratiobox").add(".hs-content .modal-body .tucal-aspectratioboxcontent").add(".hs-content .modal-body .tucal-aspectratioboxcontent img").addClass("tucal-noaspect");$(".hs-content .modal-body .hs-html").css("padding-top","0");$(".hs-content .modal-body .tucal-gallery-desc").css("padding-bottom",
"14px")}function picwidth(){var a=$("#hs-modal .modal-body > img, #hs-modal .modal-body .tucal-gallery-content > img").attr("src"),b=$("#hs-modal .modal-body > img").length||1===$("#hs-modal .modal-body .tucal-thumbs li").length?2:30,c=new Image;c.src=a;$(c).one("load",function(){$("#hs-modal .modal-dialog").css("max-width",c.width+b)})}function origin(a){var b=$("<a />");b.attr("href",a);a=b[0].protocol+b[0].host;return window.location.protocol+window.location.host===a||""===a?!0:!1}
function gallery_functions(){$("body").on("swipeleft",".tucal-gallery-content",function(){$(this).find(".tucal-right").trigger("click")});$("body").on("swiperight",".tucal-gallery-content",function(){$(this).find(".tucal-left").trigger("click")});$("body").on("click",".tucal-play-toggle",function(){var a=$(this),b=a.closest(".tucal-gallery").data("interval"),b=b?b:3E3;a.hasClass("glyphicon-play")&&a.closest(".tucal-gallery").find(".tucal-thumbs li.active").next().length?(pause(),a.removeClass("glyphicon-play").addClass("glyphicon-pause"),
play(a,b)):a.hasClass("glyphicon-pause")&&pause()});$("body").on("click",".tucal-gallery .tucal-thumbs li",function(){var a=$(this).closest(".tucal-gallery");$(this).addClass("active").siblings().removeClass("active");align(a);picwrite(a);return!1});$("body").on("click",".tucal-gallery [data-thumb]",function(){var a=$(this),b=a.closest(".tucal-gallery").find(".tucal-thumbs"),c=b.width(),a="left"===a.data("thumb")?-1:1;b.animate({scrollLeft:b.scrollLeft()+.8*a*c},800)});$("body").on("click",".tucal-gallery [data-gallery]",
function(){var a=$(this),b=a.closest(".tucal-gallery"),c=b.find(".tucal-thumbs li.active"),a=a.data("gallery");if("next"!==a||c.next().length)if("prev"!==a||c.prev().length)c.prev().addClass("prev"),c.next().addClass("next"),c.removeClass("active"),"next"===a?(b.find(".tucal-thumbs li.next").addClass("active").removeClass("next"),b.find(".tucal-thumbs li.prev").removeClass("prev")):(b.find(".tucal-thumbs li.prev").addClass("active").removeClass("prev"),b.find(".tucal-thumbs li.next").removeClass("next")),
align(b),picwrite(b)});$("body").on("click",".tucal-fs-toggle",function(){var a=$(this).closest(".tucal-fs-e")[0];document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(0!==$(".hs-content").length&&$("#hs-modal").data("bs.modal").isShown||"#fs"!==location.hash&&"#popup"!==location.hash||window.history.back(),document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?
document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()):a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()});$(document).on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(a){function b(){window.location.hash="fs";window.onhashchange=function(){"#fs"!==location.hash&&(document.exitFullscreen?
document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())}}a=$(a.target);document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(0===$(".hs-content").length?b():$("#hs-modal").data("bs.modal").isShown||b(),a.addClass("gallery-fullscreen"),a.children("div:first").removeClass("tucal-aspectratiobox").css("height",
"100%"),a.children("div:first").children("div:first").removeClass("tucal-aspectratioboxcontent"),a.find(".tucal-fs-toggle").removeClass("glyphicon-resize-full").addClass("glyphicon-resize-small"),a.find(".tucal-gallery-footer").addClass("footer-fullscreen"),a.find(".tucal-gallery-desc").css("padding","14px"),a.find(".tucal-gallery-content img").css("position","absolute"),a.find(".tucal-gallery-control").css("position","absolute"),$(document).on("keydown",function(c){switch(c.which){case 39:a.find(".tucal-right").trigger("click");
break;case 37:a.find(".tucal-left").trigger("click")}})):(a.removeClass("gallery-fullscreen"),a.children("div:first").addClass("tucal-aspectratiobox").css("height",""),a.children("div:first").children("div:first").addClass("tucal-aspectratioboxcontent"),a.find(".tucal-fs-toggle").removeClass("glyphicon-resize-small").addClass("glyphicon-resize-full"),a.find(".tucal-gallery-footer").removeClass("footer-fullscreen"),a.find(".tucal-gallery-desc").css("padding",""),a.find(".tucal-gallery-content img").css("position",
""),a.find(".tucal-gallery-control").css("position","relative"),$(document).off("keydown"))})}var galleryplay=null;function play(a,b){function c(){galleryplay=setTimeout(function(){a.find(".tucal-play-toggle").hasClass("glyphicon-pause")&&(a.find(".tucal-right").trigger("click"),$(".tucal-gallery-body").on("picloaded",function(){$(".tucal-gallery-body").off("picloaded");c()}))},b)}a=a.closest(".tucal-gallery-body");c()}
function pause(){$(".tucal-gallery-body").off("picloaded");clearTimeout(galleryplay);$(".tucal-play-toggle").each(function(){$(this).hasClass("glyphicon-pause")&&$(this).removeClass("glyphicon-pause").addClass("glyphicon-play")})}$(document).on("show.bs.modal hide.bs.modal",function(){galleryplay&&pause()});
$(document).ready(function(){var a=$("ul[data-gallery]"),b=a.length;a.each(function(){var a=$(this).data("thumb"),e="";""!==a&&(e=a+8,a=' style="height:'+a+'px"',e=' style="height:'+e+'px"');var a='\t\t\t\t<div class="tucal-gallery-header noselect">\t\t\t\t\t<div class="tucal-thumbs-body"'+e+'>\t\t\t\t\t\t<div class="tucal-thumbs">\t\t\t\t\t\t\t<ul'+a+">",e=$(this).html(),h=$(e).length,f=$(this).data("gallery"),m=$(this).attr("class"),d=$(this).data("interval"),d=d?' data-interval="'+d+'"':"",m=m?
" "+m:"",n=$(this).attr("style"),n=n?' style="'+n+'"':"",g=$(this).data("gdesc"),g=(g=g?g:$(this).find("li:first-child a img").attr("title"))?'<div class="show">'+g+"</div>":"",p="",q="",k="",l="";"popup"===f?(f='<div><img class="img-responsive" src="'+$(this).find("li:first-child a").attr("href")+'">',f+='<div class="hs-label hidden-print">\n<span class="glyphicon tucicon-search"></span>\n',f+=1===h?"":'<span class="glyphicon glyphicon-folder-open"></span>\n',f+="</div></div>",p='<div class="hs-modal popup'+
m+'"'+n+'><a href="#" data-toggle="modal" data-target="#hs-modal" data-html="true">'+f+"</a>"+g+'<div class="modal-body">',q="</div></div>"):(k=m,l=n);$(this).replaceWith(p+'<div class="tucal-gallery'+k+'"'+l+d+">"+a+e+'</ul>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<a class="tucal-icon tucal-left" data-thumb="left"><span class="valign"></span><span class="glyphicon tucicon-nav-left"></span></a>\t\t\t\t\t<a class="tucal-icon tucal-right" data-thumb="right"><span class="valign"></span><span class="glyphicon tucicon-nav-right"></span></a>\t\t\t\t</div>\t\t\t\t<div class="tucal-gallery-body tucal-fs-e">\t\t\t\t\t<div class="tucal-aspectratiobox">\t\t\t\t\t\t<div class="tucal-gallery-content tucal-aspectratioboxcontent noselect">\t\t\t\t\t\t\t<img class="img-responsive" src=""/>\t\t\t\t\t\t\t<div class="load">\t\t\t\t\t\t\t\t<span class="valign"></span><div>\t\t\t\t\t\t\t\t\t<div>Loading&hellip;/L&auml;dt&hellip;</div>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<a class="tucal-icon tucal-left" data-gallery="prev"><span class="valign"></span><span class="glyphicon tucicon-nav-left"></span></a>\t\t\t\t\t\t\t<a class="tucal-icon tucal-right" data-gallery="next"><span class="valign"></span><span class="glyphicon tucicon-nav-right"></span></a>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="tucal-gallery-footer">\t\t\t\t\t\t<div class="tucal-gallery-control noselect">\t\t\t\t\t\t\t<div class="tucal-fs-toggle glyphicon glyphicon-resize-full"></div>\t\t\t\t\t\t\t<div class="tucal-play-toggle glyphicon glyphicon-play" data-slide="pause"></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div>\t\t\t\t\t\t\t<div class="tucal-gallery-desc"></div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div></div>'+
q);--b||gallery_functions()});$(window).on("resize load shown.bs.modal",function(){function a(b){var c=b.closest(".tucal-gallery-header").find(".tucal-thumbs"),f=b.closest(".tucal-gallery-header").find(".tucal-left");b=b.closest(".tucal-gallery-header").find(".tucal-right");1<c.scrollLeft()?f.show():f.hide();1<c[0].scrollWidth-c.width()-c.scrollLeft()?b.show():b.hide()}$(".tucal-gallery:not(.hs-modal .modal-body .tucal-gallery) .tucal-gallery-header").each(function(){a($(this))});$(".tucal-thumbs").scroll(function(){a($(this))})});
$("div.tucal-gallery").not(".hidden").each(function(){$(this).find(".tucal-thumbs li").hasClass("active")||$(this).find(".tucal-thumbs li:first").addClass("active");picwrite($(this));align($(this))});$(".hs-modal a[data-image]").each(function(){var a=$(this).find("img").width(),b=$(this).find("img").height();80<=a&&40<=b&&$(this).append('<div class="hs-label"><span class="glyphicon tucicon-search"></span></div>')});$("body").on("click","#hs-modal .modal-dialog",function(a){a.target===this&&$("#hs-modal").modal("hide")});
$("body").on("hide.bs.modal","div.modal",function(){"#popup"===location.hash&&window.history.back()});$('a[data-toggle="modal"][data-target="#hs-modal"]').on("click",function(a){hs_content();var b=$(a.currentTarget).data("target"),b=$(b);a=$(a.currentTarget);b.one("show.bs.modal",{a:a},function(a){function b(){$("#hs-modal .modal-body").children().not(".modal-error").remove();$("#hs-modal .modal-error").show()}var c=this;window.location.hash="popup";window.onhashchange=function(){if("#popup"!==location.hash&&
"#fs"!==location.hash){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();$(c).modal("hide")}};var d=$(a.data.a);a=$("#hs-modal");var e=d.data("height"),g=d.data("width"),p=d.data("title"),q=d.siblings(".modal-footer").html(),
k=d.data("vertical"),l=d.data("remote-frame"),r=null;"undefined"!==d.data("image")&&(r=""!==d.data("image")?d.data("image"):d.attr("href"));var t=""===d.data("html")||d.data("html")?!0:!1,d=d.siblings(".modal-body").html();$("#hs-modal .modal-body").css("height",e?e:"");$("#hs-modal .modal-dialog").css("max-width",g?g:"");$("#hs-modal .modal-title").html(p?p:"");$("#hs-modal .modal-content").css("vertical-align",k?k:"").css("height",k||e?"auto":"");q&&(a.one("hidden.bs.modal",function(){$("#hs-modal .modal-footer").empty().hide()}),
$("#hs-modal .modal-footer").append(q).show());if(l){a.one("hidden.bs.modal",function(){b();$(this).removeClass("hs-url")});$("#hs-modal .modal-body").append('<iframe width="100%" height="400" frameborder="0"></iframe>');$("#hs-modal .modal-body iframe").attr("src",l);if(!e)if(origin(l))$("#hs-modal .modal-body iframe").one("load",function(){var a=$("#hs-modal .modal-body iframe").contents().find("html");a.css("overflow","hidden");$("#hs-modal .modal-content").height(a.height());setTimeout(function(){$("#hs-modal .modal-content").height(a.height())},
75);a.css("overflow","auto")});else $("#hs-modal .modal-content").css("height","100%"),$("#hs-modal .modal-body").css("height","calc(100% - 55px)");a.addClass("hs-url");$("#hs-modal .modal-error").hide()}r&&(a.one("hidden.bs.modal",function(){b()}),$("#hs-modal .modal-body").append('<img src="'+r+'" class="img-responsive hs-img" />'),g||picwidth(),$("#hs-modal .modal-error").hide());!0===t&&(a.one("hidden.bs.modal",function(){b()}),$("#hs-modal .modal-body").append('<div class="hs-html">'+d+"</div>"),
1===$("#hs-modal .tucal-gallery .tucal-thumbs li").length&&(singlepic(),picwidth()),$("#hs-modal .modal-error").hide())}).modal();return!1})});
